<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quickii Ascii</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div class="bg-white p-8 rounded shadow-md w-full max-w-md">
        <h1 class="text-2xl font-bold mb-6 text-center">Quickii Ascii</h1>
        <div class="mb-4 text-center">
            <span class="text-6xl" id="ascii-char">?</span>
        </div>
        <div class="mb-4">
            <label for="hex-input" class="block text-gray-700 mb-2">Enter Hex Value:</label>
            <input type="number" id="hex-input" class="w-full px-3 py-2 border rounded" placeholder="e.g., 41">
        </div>
        <button id="submit-btn" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">Submit</button>
        <div id="feedback" class="mt-4 text-center"></div>
        <button id="next-btn" class="mt-4 w-full border-blue-500 border-2  py-2 font-bold hover:border-blue-600 hidden">Next</button>
    </div>

    <script>
        $(document).ready(function() {
            const characters = [];
            for(let i = 32; i <= 126; i++) { 
                characters.push(String.fromCharCode(i));
            }

            let currentChar = '';
            let currentHex = '';
            let isCorrect = true;

            function getRandomCharacter() {
                const randomIndex = Math.floor(Math.random() * characters.length);
                currentChar = characters[randomIndex];
                currentHex = currentChar.charCodeAt(0).toString(16).toUpperCase();
                $('#ascii-char').text(currentChar);
                $('#ascii-char').removeClass('text-red-500'); 
            }

            function resetGame() {
                $('#feedback').text('').removeClass('text-red-500 text-green-500');
                $('#hex-input').val('').prop('disabled', false);
                $('#submit-btn').show(); 
                $('#next-btn').hide();   
            }

            getRandomCharacter();

            $('#submit-btn').click(function() {
                const userInput = $('#hex-input').val().trim().toUpperCase(); 
                if(userInput === '') {
                    $('#feedback').text('Please enter a hexadecimal value.').addClass('text-red-500').removeClass('text-green-500');
                    return;
                }

                const hexRegex = /^[0-9A-F]+$/i; 
                if(!hexRegex.test(userInput)) {
                    $('#feedback').text('Invalid hexadecimal value.').addClass('text-red-500').removeClass('text-green-500');
                    return;
                }

                if(userInput === currentHex) {
                    $('#feedback').text('Correct!').addClass('text-green-500').removeClass('text-red-500');
                    isCorrect = true;
                } else {
                    $('#feedback').html(`Incorrect. Correct Hex: <span class="font-bold">${currentHex}</span>`).addClass('text-red-500').removeClass('text-green-500');
                    isCorrect = false;
                }

                $('#hex-input').prop('disabled', true);
                $('#submit-btn').hide();  
                $('#next-btn').show();   
            });

            $('#next-btn').click(function() {
                if (!isCorrect) {
                    $('#ascii-char').addClass('text-red-500'); 
                }
                resetGame();      
                getRandomCharacter();  
            });

            $('#hex-input').keypress(function(e) {
                if(e.which === 13) { 
                    $('#submit-btn').click();
                }
            });

            $('#submit-btn').show();
            $('#next-btn').hide();
        });
    </script>
</body>
</html>
